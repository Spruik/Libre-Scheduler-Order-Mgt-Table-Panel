{"version":3,"sources":["../src/instant_search_ctrl.js"],"names":["enableInstantSearch","products","productionLines","filter","data","production_line","equipment","productsData","reduce","arr","p","obj","value","text","id","product_desc","push","productionLineData","line","site","area","productionLineDataList","DataList","productsDataList","create","removeListeners","addListeners"],"mappings":";;;;;;;AACA;;;;;;;AAOA,WAASA,mBAAT,CAA8BC,QAA9B,EAAwCC,eAAxC,EAAyD;;AAEvDA,sBAAkBA,gBAAgBC,MAAhB,CAAuB;AAAA,aAAQC,KAAKC,eAAL,KAAyB,IAAzB,IAAiCD,KAAKE,SAAL,KAAmB,IAA5D;AAAA,KAAvB,CAAlB;;AAEA,QAAMC,eAAeN,SAASO,MAAT,CAAgB,UAACC,GAAD,EAAMC,CAAN,EAAY;AAC/C,UAAMC,MAAM,EAACC,OAAOF,CAAR,EAAWG,MAAMH,EAAEI,EAAF,GAAO,KAAP,GAAeJ,EAAEK,YAAlC,EAAZ;AACAN,UAAIO,IAAJ,CAASL,GAAT;AACA,aAAOF,GAAP;AACD,KAJoB,EAIlB,EAJkB,CAArB;;AAMA,QAAMQ,qBAAqBf,gBAAgBM,MAAhB,CAAuB,UAACC,GAAD,EAAMS,IAAN,EAAe;AAC/D,UAAMP,MAAM,EAACC,OAAOM,IAAR,EAAcL,MAAMK,KAAKC,IAAL,GAAY,KAAZ,GAAoBD,KAAKE,IAAzB,GAAgC,KAAhC,GAAwCF,KAAKb,eAAjE,EAAZ;AACAI,UAAIO,IAAJ,CAASL,GAAT;AACA,aAAOF,GAAP;AACD,KAJ0B,EAIxB,EAJwB,CAA3B;;AAMA,QAAMY,yBAAyB,IAAIC,QAAJ,CAC7B,0BAD6B,EAE7B,gCAF6B,EAG7B,6BAH6B,EAI7BL,kBAJ6B,CAA/B;;AAOA,QAAMM,mBAAmB,IAAID,QAAJ,CACvB,mBADuB,EAEvB,yBAFuB,EAGvB,sBAHuB,EAIvBf,YAJuB,CAAzB;;AAOAc,2BAAuBG,MAAvB;AACAH,2BAAuBI,eAAvB;AACAJ,2BAAuBK,YAAvB,CAAoCL,sBAApC;;AAEAE,qBAAiBC,MAAjB;AACAD,qBAAiBE,eAAjB;AACAF,qBAAiBG,YAAjB,CAA8BH,gBAA9B;AACD;;;;AA7COD,c,aAAAA,Q;;;qCA+CCtB,mB","file":"instant_search_ctrl.js","sourcesContent":["import {DataList} from './datalist'\n/**\n * Expect the product list and production line list data\n * Passed these two data passed in to form the datalist\n * Create datalist object to control the instant search input\n * @param {*} products \n * @param {*} productionLines \n */\nfunction enableInstantSearch (products, productionLines) {\n  \n  productionLines = productionLines.filter(data => data.production_line !== null && data.equipment === null)\n\n  const productsData = products.reduce((arr, p) => {\n    const obj = {value: p, text: p.id + ' | ' + p.product_desc}\n    arr.push(obj)\n    return arr\n  }, [])\n\n  const productionLineData = productionLines.reduce((arr, line) => {\n    const obj = {value: line, text: line.site + ' | ' + line.area + ' | ' + line.production_line}\n    arr.push(obj)\n    return arr\n  }, [])\n  \n  const productionLineDataList = new DataList(\n    \"datalist-production-line\",\n    \"datalist-input-production-line\",\n    \"datalist-ul-production-line\",\n    productionLineData\n  );\n\n  const productsDataList = new DataList(\n    \"datalist-products\",\n    \"datalist-input-products\",\n    \"datalist-ul-products\",\n    productsData\n  );\n\n  productionLineDataList.create();\n  productionLineDataList.removeListeners()\n  productionLineDataList.addListeners(productionLineDataList);\n\n  productsDataList.create();\n  productsDataList.removeListeners()\n  productsDataList.addListeners(productsDataList);\n}\n\nexport { enableInstantSearch }"]}